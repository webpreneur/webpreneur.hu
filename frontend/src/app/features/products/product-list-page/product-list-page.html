<c-container class="py-4">
  <c-card>
    <c-card-header class="d-flex justify-content-between align-items-center">
      <h2 class="mb-0">Termékek</h2>
      <button cButton color="primary" routerLink="/products/create" shape="rounded-pill">
        Új termék létrehozása
      </button>
    </c-card-header>
    <c-card-body>
      @if (products().length === 0) {
        <div class="text-center text-muted py-4">
          <p>Még nincsenek termékek létrehozva.</p>
          <button cButton color="primary" routerLink="/products/create" shape="rounded-pill">
            Első termék létrehozása
          </button>
        </div>
      } @else {
        <div class="row">
          @for (product of products(); track product.id) {
            <div class="col-md-6 col-lg-4 mb-3">
              <c-card class="h-100" style="cursor: pointer;" [routerLink]="['/products', product.id]">
                @if (product.imageUrl) {
                  <img [src]="apiBaseUrl + product.imageUrl" 
                       [alt]="product.name" 
                       class="card-img-top" 
                       style="height: 200px; object-fit: cover;">
                }
                <c-card-body class="d-flex flex-column">
                  <h5>{{ product.name }}</h5>
                  <p class="text-muted flex-grow-1">{{ product.description }}</p>
                  <div class="d-flex justify-content-between align-items-center mt-auto">
                    <strong class="text-success">{{ product.price }} Ft</strong>
                    <button cButton color="outline-primary" size="sm" (click)="$event.stopPropagation()">Szerkesztés</button>
                  </div>
                </c-card-body>
              </c-card>
            </div>
          }
        </div>
      }
    </c-card-body>
  </c-card>
</c-container>
