<form cForm [formGroup]="form" (ngSubmit)="submit()" novalidate>
  <div class="mb-3">
    <label cLabel for="inputName">Termék neve</label>
    <input cFormControl id="inputName" type="text" formControlName="name" name="name"/>
    @if (form.get('name')?.invalid && form.get('name')?.touched) {
      <div cFormText class="text-danger">A termék neve kötelező</div>
    }
  </div>
  <div class="mb-3">
    <label cLabel for="inputDescription">Leírás</label>
    <textarea cFormControl id="inputDescription" formControlName="description" name="description" rows="4"></textarea>
    @if (form.get('description')?.invalid && form.get('description')?.touched) {
      <div cFormText class="text-danger">A leírás kötelező</div>
    }
  </div>
  <div class="mb-3">
    <label cLabel for="inputPrice">Ár (Ft)</label>
    <input cFormControl id="inputPrice" type="number" formControlName="price" name="price" min="0" step="0.01"/>
    @if (form.get('price')?.invalid && form.get('price')?.touched) {
      <div cFormText class="text-danger">Az ár kötelező és pozitív szám kell legyen</div>
    }
  </div>
  <div class="mb-3">
    <label cLabel for="inputImage">Termék képe</label>
    <input 
      cFormControl 
      id="inputImage" 
      type="file" 
      accept="image/jpeg,image/jpg,image/png,image/webp" 
      (change)="onFileSelected($event)"
      class="form-control"
    />
    <div cFormText class="text-muted">JPEG, JPG, PNG, WEBP formátumok, maximum 500KB</div>
    @if (selectedFile()) {
      <div cFormText class="text-success mt-1">Kiválasztott fájl: {{ selectedFile()!.name }}</div>
    }
  </div>
  <button cButton color="primary" type="submit" [disabled]="form.invalid" shape="rounded-pill">Termék létrehozása</button>
</form>